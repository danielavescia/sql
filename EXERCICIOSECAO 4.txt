/*CRIANDO DATABASE*

CREATE DATABASE LIVRARIA;

/*CRIANDO TABELA*/

CREATE TABLE LIVROS_COMERCIALIZADOS(
NOME VARCHAR(30),
EDITORA VARCHAR(30),
UF CHAR(2),
SEXO_AUTOR CHAR(1),
PAGINAS VARCHAR(5)
);

/*INSERINDO DADOS*/

INSERT INTO LIVROS_COMERCIALIZADOS(NOME, EDITORA, UF, SEXO_AUTOR, PAGINAS) 
VALUES('101 DISCOS', 'ABRIL', 'SP', 'M','900'),
('STAR WARS','XYZ','SP','M',356),
('LIVRE','SEXTANTE','RJ','F',249),
('ADMIRAVEL MUNDO NOVO','SEXTANTE',RJ','F',180),


INSERT INTO LIVROS_COMERCIALIZADOS VALUES('STAR WARS','XYZ','SP','M','356'),
('LIVRE','SEXTANTE','RJ','F','249');

INSERT INTO LIVROS_COMERCIALIZADOS VALUES('CLAPTON','ABC','RJ','F',450);

/*TRAZENDO TODOS OS DADOS*/

SELECT * FROM'LIVROS_COMERCIALIZADOS';

/*TRAZENDO NOME DO LIVRO E DA EDITORA*/
SELECT NOME,EDITORA FROM LIVROS_COMERCIALIZADOS;

/*TRAZENDO NOME, UF DE LIVROS PUBLICADOS POR AUTORES MASC*/ 
SELECT NOME, UF FROM LIVROS_COMERCIALIZADOS WHERE SEXO_AUTOR LIKE '%M%';

/* TRAZENDO NOME DO LIVRO, PAGINAS DE LIVROS PUBLICADOS POR MULHERES */ 
SELECT NOME, PAGINAS FROM LIVROS_COMERCIALIZADOS WHERE SEXO_AUTOR LIKE '%F%';

/* TRAZENDO VALORES DOS LIVROS DE SP */

ALTER TABLE LIVROS_COMERCIALIZADOS
ADD VALOR FLOAT (4)
AFTER PAGINAS;

INSERT INTO LIVROS_COMERCIALIZADOS (VALOR)
VALUES (99.99), (79.99), (49.90);

DELETE FROM LIVROS_COMERCIALIZADOS 
WHERE NOME IS NULL;


UPDATE LIVROS_COMERCIALIZADOS
SET 
VALOR = 99.99
WHERE EDITORA LIKE 'ABRIL';

UPDATE LIVROS_COMERCIALIZADOS
SET 
VALOR = 49.90
WHERE EDITORA LIKE 'SEXTANTE';

UPDATE LIVROS_COMERCIALIZADOS
SET 
VALOR = 69.90
WHERE EDITORA LIKE 'ABC';


SELECT NOME, VALOR FROM LIVROS_COMERCIALIZADOS
WHERE UF LIKE '%SP%';


/*TRAZER DADOS DOS AUTORES MASC  LIVROS PUBLICADOS POR SP OU RJ*/

ALTER TABLE LIVROS_COMERCIALIZADOS
ADD NOME_AUTOR VARCHAR (30)
AFTER SEXO_AUTOR;

update LIVROS_COMERCIALIZADOS 
SET nome_autor= 'GUILHERME PORTO'
WHERE EDITORA LIKE 'ABRIL';

update LIVROS_COMERCIALIZADOS 
SET nome_autor= 'GEORGE LUCAS'
WHERE EDITORA LIKE 'XYZ';

update LIVROS_COMERCIALIZADOS 
SET nome_autor= 'CLAUDIA MARIA'
WHERE EDITORA LIKE 'SEXTANTE';


update LIVROS_COMERCIALIZADOS 
SET nome_autor= 'CLAUDIA RAIA'
WHERE EDITORA LIKE 'ABC';


SELECT  NOME_AUTOR, SEXO_AUTOR FROM LIVROS_COMERCIALIZADOS WHERE ((SEXO_AUTOR = 'M') AND NOT (SEXO_AUTOR='F' AND UF ='SP' OR UF='RJ'));

SELECT  NOME_AUTOR, SEXO_AUTOR FROM LIVROS_COMERCIALIZADOS WHERE SEXO_AUTOR = 'M' AND NOT SEXO_AUTOR='F' AND UF ='SP' OR UF='RJ';
